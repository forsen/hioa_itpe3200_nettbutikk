@model Nettbutikk.Models.ShoppingCart

@{
    ViewBag.Title = "Handlevogn";
}
<div class="jumbotron">
    <div class="container">
        <h3><span class="glyphicon glyphicon-shopping-cart"></span> Min handlekurv</h3>

        <table class="table">
            <tr>
                <th>Vare</th>
                <th>Antall</th>
                <th>Pris</th>
                <th></th>
            </tr>

   
            @foreach (var item in Model.shoppingCartItems)
            {
 
                <tr>
 @using (Html.BeginForm("updateCart", "ShoppingCart", FormMethod.Post)) { 
                    <td>
                        @Html.DisplayFor(modelItem => item.product.name)
                    </td>
                    <td>
                        @Html.TextBoxFor(modelItem => item.quantity, new { Name = "quantity" })
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.price)
                    </td>
                    <td>
                        @Html.ActionLink("Fjern", "removeItem", new { id = @Model.shoppingCartItems.IndexOf(item) })
                    </td>
                    <td>
                         
                            <input type="hidden" name="id" value="@Model.shoppingCartItems.IndexOf(item)" />
                            
                        <input type="submit" />
                        
                    </td>
                    }
                

                </tr>
            }

        </table>
        <footer style="float:right">
            <h4>
                SUM:
                @Html.DisplayFor(modelItem => Model.sum)
                ,-

            </h4> 
            <button class="btn btn-large btn-success" value="Sjekk ut">
                @Html.ActionLink("checkout", "ShoppingCart", new { target = "_blank" })
                Sjekk ut
                <span class="glyphicon glyphicon-shopping-cart"></span>
            </button>
               
           
        </footer>

    </div>
</div> 